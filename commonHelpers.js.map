{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst BASE_URL = \"https://pixabay.com\";\nconst END_POINT = \"/api/\";\n\n\n\n export function getImages(keyUser, keyImage) {\n        const params = new URLSearchParams({\n            key: keyUser,\n            q: keyImage,\n            image_type: \"photo\",\n            orientation: 'horizontal',\n            safesearch: 'true',\n        });\n   console.log(\"Export BASE_URL GET IMAGE\", BASE_URL);\n        const url = `${BASE_URL}${END_POINT}?${params}`;\n      return fetch(url)\n        .then(res => {\n          if (!res.ok) {\n            throw new Error(\n              \"Sorry, there are no images matching your search query. Please try again!\"\n            );\n           }\n          return res.json();\n        })\n        .catch(error => iziToast.error({message: `${error}`}));\n}\n\n    \n\n\n","export function createGallery(arrObjPicture) {\n   \n      return arrObjPicture.map(\n        ({\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        previewURL,\n        largeImageURL,\n      }) =>\n            `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${previewURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n      <div class = \"wrapper\">\n                 <div class = \"parameters\">\n                 <span class =\"title\">Likes</span>\n                 <span class = \"info\">${likes}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Views</span>\n                 <span class = \"info\">${views}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Comments</span>\n                 <span class = \"info\">${comments}</span>\n                 </div>\n                  <div class = \"parameters\">\n                 <span class =\"title\">Downloads</span>\n                 <span class = \"info\">${downloads}</span>\n                 </div>\n                 </div>\n</li>`).join(\"\");\n    }\n    \nexport function onLoading(element) {\n  element.style.display = 'block';\n}\n\n\nexport function offLoading(element) {\n  element.style.display = 'none';\n}\n","import \"./css/styles.css\"\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { onLoading } from \"./js/render-functions\";\nimport { offLoading } from \"./js/render-functions\";\n\nconst BASE_URL = \"https://pixabay.com\";\nconst END_POINT = \"/api/\";\nconst keyUser = '43441081-c9c9daac9af91d4227dda2db1';\n\nconst formData = {\n    keySearch: \"\",\n  };\n\nconst form = document.querySelector(\".feedback-form\");\nconst galleryNew = document.querySelector(\".list\");\nconst loader = document.querySelector(\".loader\");\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);\n\noffLoading(loader);\n\n//++++++++++++++++++++++++++++++=======================\n\n function handleInput(event) {\n    const key = event.target.name;\n    formData[key] = event.target.value;\n    return formData.keySearch;\n} \n\n\n\nfunction handleSubmit(event) {\n           event.preventDefault();\n           galleryNew.innerHTML = \"\";\n           onLoading(loader);\n  \n           if (formData.keySearch.trim() == \"\") {\n               offLoading(loader);\n               return iziToast.error({\n                   message: 'Sorry, there are no images matching your search query. Please try again!',\n                   position: 'bottomRight',\n                   messageColor: 'white',\n                   backgroundColor: 'red',\n                   progressBarColor: 'black',\n                 });\n             }\n  console.log(\"BASE URL in main\", BASE_URL);\n    getImages(keyUser, formData.keySearch)\n      .then(data => {\n           offLoading(loader);\n     \n           if (data.hits.length === 0) {   \n                offLoading(loader);\n                return iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'bottomRight',\n                messageColor: 'white',\n                backgroundColor: 'red',\n                progressBarColor: 'black',\n                    });\n                }  \n\n           galleryNew.insertAdjacentHTML(\"beforeend\", createGallery(data.hits));\n           gallery.refresh();\n           form.reset();\n           formData.keySearch = '';\n       })\n      .catch(error => {\n           hideLoading(loader);\n           iziToast.error({\n                message: `${error}`,\n           });\n       })\n      .finally(() => {\n           form.reset();\n      });\n        \n    }  \n\n      \n   \n//+++++++++++++++++++++++++++++===================================\n\nlet gallery = new SimpleLightbox('.list a',\n    { \n        captionsData: \"alt\",\n        captionClass: \"text-center\",\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n    });\n\ngallery.on('show.simplelightbox', function () {\n\t\n});\n\ngallery.on('error.simplelightbox', function (e) {\n\tconsole.log(e); \n});\n\n\n   "],"names":["BASE_URL","END_POINT","getImages","keyUser","keyImage","params","url","res","error","createGallery","arrObjPicture","tags","likes","views","comments","downloads","previewURL","largeImageURL","onLoading","element","offLoading","formData","form","galleryNew","loader","handleInput","handleSubmit","event","key","iziToast","data","gallery","SimpleLightbox"],"mappings":"2FACA,MAAMA,EAAW,sBACXC,EAAY,QAIV,SAASC,EAAUC,EAASC,EAAU,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACxB,CAAS,EACN,QAAQ,IAAI,4BAA6BJ,CAAQ,EAC5C,MAAMM,EAAM,GAAGN,CAAQ,GAAGC,CAAS,IAAII,CAAM,GAC/C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MACR,0EACd,EAEU,OAAOA,EAAI,MACrB,CAAS,EACA,MAAMC,GAAS,SAAS,MAAM,CAAC,QAAS,GAAGA,CAAK,EAAE,CAAC,CAAC,CAC7D,CC1BO,SAASC,EAAcC,EAAe,CAEvC,OAAOA,EAAc,IACnB,CAAC,CACD,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,cAAAC,CACD,IACK;AAAA,kCACsBA,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAU;AAAA,qBACFC,CAAa;AAAA,aACrBN,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMuBC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA,MAG3C,EAAE,KAAK,EAAE,CACV,CAEE,SAASG,EAAUC,EAAS,CACjCA,EAAQ,MAAM,QAAU,OAC1B,CAGO,SAASC,EAAWD,EAAS,CAClCA,EAAQ,MAAM,QAAU,MAC1B,CCvCA,MAAMnB,EAAW,sBAEXG,EAAU,qCAEVkB,EAAW,CACb,UAAW,EACf,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CF,EAAK,iBAAiB,QAASG,CAAW,EAC1CH,EAAK,iBAAiB,SAAUI,CAAY,EAE5CN,EAAWI,CAAM,EAIhB,SAASC,EAAYE,EAAO,CACzB,MAAMC,EAAMD,EAAM,OAAO,KACzB,OAAAN,EAASO,CAAG,EAAID,EAAM,OAAO,MACtBN,EAAS,SACpB,CAIA,SAASK,EAAaC,EAAO,CAKlB,GAJAA,EAAM,eAAc,EACpBJ,EAAW,UAAY,GACvBL,EAAUM,CAAM,EAEZH,EAAS,UAAU,KAAI,GAAM,GAC7B,OAAAD,EAAWI,CAAM,EACVK,EAAS,MAAM,CAClB,QAAS,2EACT,SAAU,cACV,aAAc,QACd,gBAAiB,MACjB,iBAAkB,OACrC,CAAkB,EAEhB,QAAQ,IAAI,mBAAoB7B,CAAQ,EACtCE,EAAUC,EAASkB,EAAS,SAAS,EAClC,KAAKS,GAAQ,CAGT,GAFAV,EAAWI,CAAM,EAEbM,EAAK,KAAK,SAAW,EACpB,OAAAV,EAAWI,CAAM,EACVK,EAAS,MAAM,CACtB,QAAS,2EACT,SAAU,cACV,aAAc,QACd,gBAAiB,MACjB,iBAAkB,OAClC,CAAqB,EAGVN,EAAW,mBAAmB,YAAad,EAAcqB,EAAK,IAAI,CAAC,EACnEC,EAAQ,QAAO,EACfT,EAAK,MAAK,EACVD,EAAS,UAAY,EAChC,CAAQ,EACD,MAAMb,GAAS,CACX,YAAYgB,CAAM,EAClBK,EAAS,MAAM,CACV,QAAS,GAAGrB,CAAK,EACjC,CAAY,CACZ,CAAQ,EACD,QAAQ,IAAM,CACVc,EAAK,MAAK,CACrB,CAAO,CAEF,CAML,IAAIS,EAAU,IAAIC,EAAe,UAC7B,CACI,aAAc,MACd,aAAc,cACd,aAAc,IACd,eAAgB,EACxB,CAAK,EAELD,EAAQ,GAAG,sBAAuB,UAAY,CAE9C,CAAC,EAEDA,EAAQ,GAAG,uBAAwB,SAAU,EAAG,CAC/C,QAAQ,IAAI,CAAC,CACd,CAAC"}